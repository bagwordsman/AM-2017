!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){var e=/\+/g;function i(t){return r.raw?t:encodeURIComponent(t)}function a(i,a){var n=r.raw?i:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(e," ")),r.json?JSON.parse(t):t}catch(t){}}(i);return t.isFunction(a)?a(n):n}var r=t.cookie=function(e,n,o){if(void 0!==n&&!t.isFunction(n)){if("number"==typeof(o=t.extend({},r.defaults,o)).expires){var s=o.expires,d=o.expires=new Date;d.setTime(+d+864e5*s)}return document.cookie=[i(e),"=",(c=n,i(r.json?JSON.stringify(c):String(c))),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}for(var c,l,h=e?void 0:{},u=document.cookie?document.cookie.split("; "):[],f=0,p=u.length;f<p;f++){var w=u[f].split("="),g=(l=w.shift(),r.raw?l:decodeURIComponent(l)),m=w.join("=");if(e&&e===g){h=a(m,n);break}e||void 0===(m=a(m))||(h[g]=m)}return h};r.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e))}}),jQuery(document).ready(function(t){var e=t("#twitter-feed").attr("data-tweets");e={one:1,two:2,three:3}[e];var i=t("#twitter-feed").attr("data-profile"),a=t("#twitter-feed").attr("data-user"),r=t("#twitter-feed").attr("data-path"),n="",o="";function s(t){return t=(t=(t=t.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(t){return'<a href="'+t+'"  target="_blank">'+t+"</a>"})).replace(/\B@([_a-z0-9]+)/gi,function(t){return'<a href="http://twitter.com/'+t.substring(1)+'" style="font-weight:lighter;" target="_blank">'+t.charAt(0)+t.substring(1)+"</a>"})).replace(/\B#([_a-z0-9]+)/gi,function(t){return'<a href="https://twitter.com/search?q='+t.substring(1)+'" style="font-weight:lighter;" target="_blank">'+t.charAt(0)+t.substring(1)+"</a>"})}function d(t){var e=t.split(" ");return t=e[1]+" "+e[2]+", "+e[5]}n+='<div class="twitter-header">',n+='<a class="profile" href="https://twitter.com/'+i+'" target="_blank">',n+="<h3>"+a+"</h3><p>@"+i+"</p>",n+="</a>",n+='<a class="bird" href="https://twitter.com/" target="_blank"><img src="'+r+'/img/twitter-bird-light.png" width="34" style="float:left;padding:3px 12px 0px 6px" alt="twitter bird" /></a>',n+="</div>",o+='<div id="loading-container"><img src="'+r+'/img/ajax-loader.gif" width="32" height="32" alt="tweet loader" /></div>',t("#twitter-feed").html(n+o),t.getJSON(r+"/get-tweets-1.1.php",function(i){for(var r="",o=1,c=0;c<i.length;c++){var l=i[c].user.name,h=i[c].user.screen_name,u=i[c].user.profile_image_url_https,f=i[c].text,p=!1,w=!1,g=i[c].id_str;void 0!==i[c].retweeted_status&&(u=i[c].retweeted_status.user.profile_image_url_https,l=i[c].retweeted_status.user.name,h=i[c].retweeted_status.user.screen_name,g=i[c].retweeted_status.id_str,f=i[c].retweeted_status.text,p=!0),"@"==i[c].text.substr(0,1)&&(w=!0),0==w&&i[c].text.length>1&&o<=e&&(f=s(f),1==o&&(r+=n),r+='<div class="twitter-article" id="tw'+o+'">',1==p&&(r+='<div class="retweet-indicator">'+a+" Retweeted</div>"),r+='<div class="twitter-pic"><a href="https://twitter.com/'+h+'" target="_blank"><img src="'+u+'"images/twitter-feed-icon.png" width="42" height="42" alt="twitter icon" /></a></div>',r+='<div class="twitter-text">',r+='<div class="tweetprofilelink"><strong><a href="https://twitter.com/'+h+'" target="_blank">'+l+"</a></strong>",r+="<br>@"+h+"</div>",r+="<p>"+f+"</p>",r+='<div class="tweet-time"><a href="https://twitter.com/'+h+"/status/"+g+'" target="_blank">'+d(i[c].created_at)+"</a></div>",r+='<div class="twitter-actions"><div class="intent" id="intent-reply"><a href="https://twitter.com/intent/tweet?in_reply_to='+g+'" title="Reply"></a></div><div class="intent" id="intent-retweet"><a href="https://twitter.com/intent/retweet?tweet_id='+g+'" title="Retweet"></a></div><div class="intent" id="intent-fave"><a href="https://twitter.com/intent/favorite?tweet_id='+g+'" title="Favourite"></a></div></div>',r+="</div>",r+="</div>",o++)}t("#twitter-feed").html(r),t(".twitter-article").hover(function(){t(this).addClass("hovered")},function(){t(this).removeClass("hovered")}),t(".twitter-actions a").click(function(){var e=t(this).attr("href");return window.open(e,"tweet action window","width=580,height=500"),!1})}).error(function(t,e,i){var a="";a=0===t.status?"Connection problem. Check file path and www vs non-www in getJSON request":404==t.status?"JSON for Twitter Feed: not found. [404]":500==t.status?"JSON for Twitter Feed: Internal Server Error [500].":"parsererror"===exception?"JSON for Twitter Feed: parse failed.":"timeout"===exception?"JSON for Twitter Feed: Time out error.":"abort"===exception?"JSON for Twitter Feed: Ajax request aborted.":"Uncaught Error.\n"+t.responseText,console.log("error: "+a)})}),function(t){if(t("html").removeClass("no-js"),t(".page").hasClass("fixed-header")){var e,i=0,a=t("div.page").attr("data-offset"),r=t(".header").outerHeight();function n(e){t(".main-menu")[0].scrollWidth>t(".main-menu").innerWidth()?t("body").innerWidth()>=768&&t(".main-menu li a").each(function(){var e=t(this).attr("data-abbrev");void 0!==e&&t(this).text(e)}):t("body").innerWidth()<=767?1==e&&t(".main-menu > li > a").each(function(e,i){t(this).attr("data-abbrev");var a=t(this).attr("data-orig");t(this).text()!==a&&t(this).text(a)}):1==e&&t("body").innerWidth()>=1120&&t(".main-menu > li > a").each(function(e,i){t(this).attr("data-abbrev");var a=t(this).attr("data-orig");t(this).text()!==a&&t(this).text(a)})}t("#toggle").change(function(){t("body").toggleClass("menu-open")}),t(window).scroll(function(t){e=!0}),setInterval(function(){e&&(!function(){var e=t(this).scrollTop();if(Math.abs(i-e)<=a)return;e>i&&e>r?(t(".header").removeClass("down").addClass("up"),t(".main-menu .menu-item-has-children > a").attr("aria-expanded","false").next().slideUp(250)):e+t(window).height()<t(document).height()&&t(".header").removeClass("up").addClass("down");i=e}(),e=!1)},250),t(".main-menu .menu-item-has-children > a").click(function(e){e.preventDefault(),"false"==t(e.target).attr("aria-expanded")?(t(".main-menu .menu-item-has-children > a").attr("aria-expanded","false").next().slideUp(250),t(e.target).attr("aria-expanded","true").next().slideDown(250)):t(e.target).attr("aria-expanded","false").next().slideUp(250)}),t(window).resize(function(){n(!0),s(!0),o(!0)}),n()}function o(e){if(t("body").innerWidth()<500){var i=t(".cookies .textwidget").attr("data-small");i!==t(".cookies .textwidget > span").text()&&t(".cookies .textwidget > span").text(i)}else{var a=t(".cookies .textwidget").attr("data-big");a!==t(".cookies .textwidget > span").text()&&t(".cookies .textwidget > span").text(a)}}function s(e){if(t("body").innerWidth()>=980){var i=Math.max.apply(Math,t(".columns.stage").map(function(e,i){return t(i).height()}));t("body").hasClass("home")&&(i+=30),t(".columns.stage").height(i)}else t(".columns.stage").css("height","auto")}"hidden"!==t.cookie("cookie_bar_hide")?(t(".cookies").show,t.cookie("cookie_bar_hide","visible",{path:"/"})):(t(".cookies").hide,t.cookie("cookie_bar_hide","hidden",{path:"/"})),t(".hide").click(function(){return t(".cookies").slideUp(250),t.removeCookie("cookie_bar_hide"),t(".page").removeClass("has-cookie-bar"),t.cookie("cookie_bar_hide","hidden",{path:"/"}),!1}),"visible"!==t.cookie("cookie_bar_hide")&&(t(".cookies").hide(),t(".page").removeClass("has-cookie-bar")),o(),t(".mediator-profile .full-profile").addClass("hidden"),t(".mediator-profile .button").click(function(e){e.preventDefault(),t(this).parents().next().removeClass("hidden"),t(this).remove()}),t(".page:not(.lazyloading)")&&s(),t(".page").hasClass("lazyloading")&&t("img.lazy").lazyload({load:function(e,i,a){t(this).removeClass("loading-icon"),s()}})}(jQuery);